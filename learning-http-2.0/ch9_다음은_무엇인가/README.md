# 다음은 무엇인가

## 9.2 QUIC Protocol

HTTP/2 의 약점은 **TCP를 사용하고 있다는 사실** 임을 이전에 말씀드린 바 있습니다. TCP는 TCP의 Slow Start, TCP Congestion Control (사실 이게 제일 문제임) 에 의한 성능 저하가 존재하기 때문에 HTTP2는 단일 연결이 모범 사례이기 때문에 이러한 점은 약점이라고 볼 수 있습니다.

QUIC의 경우 사용자 공간에 상주하는 UDP 기반의 프로토콜이며, HTTP/2 하단에 상주하는 프로토콜입니다.

> 현대의 많은 OS는 커널 레벨에서 TCP 스택이 구현되어있기 때문에 UDP 기반의 프로토콜을 사용하기 위해서는 커널 레벨에 전송 계층 프로토콜을 두는게 아닌 사용자 공간에 구현합니다

### 비순차 패킷 처리

QUIC 프로토콜의 경우 한 커넥션에 여러개의 스트림을 두는 방식으로 동작하기 때문에, 혼잡제어 알고리즘이 커넥션 단위가 아닌 스트림 단위에서 동작하게 됩니다. 따라서 Packet loss가 발생한다고 해서 커넥션의 모든 스트림에 영향을 주지 않고 (Threshold를 의미합니다), 패킷 손실이 일어난 스트림에 대해서만 혼잡제어 알고리즘을 적용하기 때문에 성능 저하가 줄어듭니다.

### 유연한 혼잡 제어

기존의 TCP의 경우 커널 레벨에서 프로토콜 스택이 정의가 되어있기 때문에 혼잡제어가 유연하지 않습니다. 대신 QUIC 프로토콜의 경우 사용자 공간에 정의된 스택이기 때문에 혼잡에서 알고리즘을 플러그인의 형태로 적용하는 것이 가능합니다.

### 낮은 Handshake 오버헤드

QUIC의 경우 TCP와는 다르게 3-way Handshake에 대한 정보를 캐싱하는 것이 가능합니다. 따라서 연결에 대한 오버헤드가 상당히 많이 줄어들었습니다.