# 프로토콜 계층과 서비스 모델

## 1.5.1 계층 구조

### Application Layer

애플리케이션 계층은 네트워크 애플리케이션과 애플리케이션 계층 프로토콜이 위치한 계층으로, 인터넷의 애플리케이션 계층은 HTTP, SMTP 등이 존재한다.

### Transport Layer

트랜스포트 계층은 클라이언트와 서버 간에 애플리케이션 계층의 메시지를 전송하는 서비스를 제공합니다.

해당 계층의 프로토콜은 크게 TCP, UDP가 존재하는데, TCP는 **신뢰성이 보장되는 연결지향형 트랜스포트 계층 프로토콜** 이라고 불리며, UDP는 **비연결지향적인 트랜스포트 계층 프로토콜** 입니다.

TCP는 네트워크의 혼잡을 제어하기 위해 흐름제어(Flow Control), 혼잡제어(Congestion Control)을 이용하고 있습니다.

그리고 TCP의 한 패킷 단위를 **세그먼트(Segment)** 라고 부르며, UDP의 한 네트워크 패킷 단위를 **데이터그램(Datagram)** 이라고 부릅니다.

### Network Layer

네트워크 계층은 Transport Layer에서 내려온 패킷을 다른 호스트로 전달하는 책임을 가진 계층입니다.

이를 위해서 네트워크 계층은 대표적으로 IP 프로토콜을 이용하여, IP 주소를 통해서 상대방의 호스트를 식별하여 패킷을 전송합니다.

### Data Link Layer

네트워크에서 라우팅을 통해 목적지가 식별된 패킷을 스위치를 이용하여 다음 노드로 데이터를 전송시키는 책임을 가지고있는 계층입니다.

### Physical Layer

물리 계층으로, 스위치를 통해 전달된 데이터를 물리적으로 상대 호스트로 전송하는 책임을 지닌 계층입니다.

## 1.5.2 캡슐화

간단하게 설명만 하고 넘어가자면, 특정 페이로드가 애플리케이션 계층에서 생성되어서 상대 호스트로 넘어간다는 상황을 가정한다면 해당 페이로드는 전송 과정에서 각 계층마다 Header가 붙어서 상대 호스트로 전송이 된다는 뜻입니다.

그리고 상대 호스트는 물리계층을 통해서 데이터를 수신하면, 하위 계층에서부터 상위 계층 순서로 대응하는 헤더를 해석하여 오류 검출 등을 수행하는 방식입니다.