# 네트워크 코어

## A. 패킷 교환

송신 시스템은 메시지(데이터)를 패킷이라고 하는 작은 데이터 덩어리로 분활한다.

각 패킷은 통신 링크와 패킷 스위치를 거친다.

- 패킷 스위치
  - 라우터
  - 링크 계층 스위치

이런 패킷은 저장 후 전달 전송 방식을 채택하고 있다.
저장 후 전달 전송 방식은 라우터에 패킷1이 일부분이 수신 되어도 바로 다음 라우터에 송신하는게 아닌 모든 패킷1이 수신 될때까지 기다렸다가 전송하는 방식을 얘기한다.
(이 사이에도 지연이 발생한다. )

그 사이에 종단간 지연이 발생할 수 있다.

### 큐잉 지연과 패킷 손실

하나의 스위치는 여러 링크를 가지고 있고 링크마다 출력 버퍼를 가지고 있다.
만일 스위치에 여러 패킷이 들어와있고 각 링크마다 패킷을 처리해 송신을 해야하는데 많은 요청이 몰렸고 이를 처리하기 위해 대기하는 패킷이 많아진다면 대기하던 패킷에 손실이 발생할 수 있고 이 과정에서 지연이 발생할 수 있다.
이 때 출력 버퍼에 패킷들이 저장되는걸 큐잉이라고 한다.

### 그럼 라우터는 패킷을 다음 링크 어디로 보낼지를 어떻게 결정할까?

1. 패킷이 라우터에 도착
2. 라우터는 패킷의 ip주소를 조사
3. 목적지의 ip주소를 이용해서 포워딩 테이블을 검색
4. 패킷을 출력 링크로 보낸다.

## B. 회선 교환

앞에서 본 패킷 교환과 반대되는 회선 교환에 대한 내용이다.
종단 시스템 간에 통신을 위해서 경로상에서 필요한 자원을 예약하는 방식이다.

## 정리

패킷 교환 방식이 회선 교환보다 성능이 우수하다.
그래서 오늘 날 네트워크 추세는 패킷 교환 방식으로 전환되고 있다.

- 회선 교환 방식: 요구에 관계없이 미리 전송 링크의 사용을 할당한다.
- 패킷 교환 방식: 요구할 때만 링크의 사용을 할당한다.
